// let blockedUsers = _.pick(this.users, this.isBlocked);
// let newSponsors = _.mapValues(blockedUsers, newSponsor);

let potentialBlockerEmails = [
"kelvinmcbride1531@gmail.com",
"kerryevans6545@gmail.com",
"terrencehaynes215@gmail.com",
"johannascott132@gmail.com",
"nathanfarmer1654@gmail.com",
"one.insurance@hotmail.com",
"ichiwar@gmail.com",
"durgeshv099@gmail.com",
"vijayganesh693@gmail.com",
"annhi1551@gmail.com",
"htt31082009@yahoo.com",
"pekostindia@gmail.com",
"bibica1368@gmail.com",
"cesarbiz25@gmail.com",
"madpandanews@gmail.com",
"rakawahyup@gmail.com",
"theuniversaltarget@gmail.com",
"marcute_01@yahoo.com",
"dance.87000@gmail.com",
"rayweela@gmail.com",
"one.insurance@hotmail.com",
"durgeshv099@gmail.com",
"michaeldebias@gmail.com",
"lbarragan@gmail.com",
"haqiailara@gmail.com",
"klatuns@yahoo.com",
"vermaaksuzette63@gmail.com",
"andymuh.ilham10@gmail.com",
"itsmelakshmi16@gmail.com",
"rizki9094@gmail.com",
"mihalyagi1@gmail.com",
"kocsisneenyedi@gmail.com",
"ria.sallai@gmail.com",
"ilduska55@gmail.com",
"mullerottone@gmail.com",
"sgyshop@gmail.com",
"remymartins0398@yahoo.com",
"emyhaxer27@gmail.com",
"siingh131313@gmail.com",
"vasavvuppala143@gmail.com",
"rizkyaditya4848@yahoo.com",
"clark-85@list.ru",
"rockzu07@gmail.com",
"edgfire1977@hotmail.com",
"rudi000gin@gmail.com",
"tony@casawealth.org",
"ljohannsen@hotmail.co.za",
"navluv.nav@gmail.com",
"kerrygilbertlc826@hotmail.com",
"shekhardaharwal@gmail.com"
];

let potentialBlockers = _.map(potentialBlockerEmails, (e) => { return _.find(users, {email: e}); });

let blockers = _.reject(_.reject(potentialBlockers, walletEnabled), 'disabled');

let uplineUsers = (u) => {
  let upline = [];
  let currentUser = u;
  while(currentUser.sponsor) {
    currentUser = getSponsor(currentUser);
    upline.push(currentUser);
  }
  return upline;
}

let incorrect = _.filter(users, (u) => { return u.downlineLevel !== uplineUsers(u).length + 1 });
log.info(`incorrect=${_.size(incorrect)}`);

_.each(incorrect, (u) = {
  userRef(u).update({downlineLevel: uplineUsers(u).length + 1 });
});

let blockerReplacement = (b) => {
  if (walletEnabled(b)) {
    return undefined;
  }

  let currentUser = b;
  while(true) {
    currentUser = getSponsor(currentUser);
    if (walletEnabled(currentUser)) {
      return currentUser;
    }
  }
};

let replacements = _.uniqBy(_.map(blockers, blockerReplacement), 'userId');


_.intersectionBy(blockers, _.flatten(_.map(replacements, uplineUsers)), 'userId');

Already activated:
"
"Skipped to give them more time:
">ismail10bz@gmail.com
">guilinnela@gmail.com
">hueit.net@gmail.com
"> exceptionalmich@gmail.com
"
